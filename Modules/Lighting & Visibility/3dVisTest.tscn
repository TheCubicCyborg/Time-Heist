[gd_scene load_steps=16 format=3 uid="uid://hfiyfqw2qyjn"]

[ext_resource type="Texture2D" uid="uid://xt01w1u2qfwc" path="res://Assets/Materials/TestFloorMat/exquistite-polished-tile_albedo.png" id="1_j8kak"]
[ext_resource type="Texture2D" uid="uid://cjwgyolwq6axi" path="res://Assets/Materials/TestFloorMat/exquistite-polished-tile_ao.png" id="2_rkh12"]
[ext_resource type="Texture2D" uid="uid://d1ud0cbta6goq" path="res://Assets/Materials/TestFloorMat/exquistite-polished-tile_metallic.png" id="3_cnn6p"]
[ext_resource type="Texture2D" uid="uid://iysiiph8g0nq" path="res://Assets/Materials/TestFloorMat/exquistite-polished-tile_normal-ogl.png" id="4_8ap2h"]
[ext_resource type="Texture2D" uid="uid://bi1v4o5qgvkpp" path="res://Assets/Materials/TestFloorMat/exquistite-polished-tile_roughness.png" id="5_gnq0a"]
[ext_resource type="MeshLibrary" uid="uid://c33av8p4dtuad" path="res://Assets/MeshLibrary.tres" id="6_8ap2h"]
[ext_resource type="PackedScene" uid="uid://b0eilnkhu73fw" path="res://Player/Player.tscn" id="7_gnq0a"]
[ext_resource type="PackedScene" uid="uid://c2jmn7fqcsv24" path="res://Player/camera_pivot.tscn" id="8_fnp7d"]
[ext_resource type="Shader" uid="uid://bla1rflwo5qs5" path="res://Modules/Lighting & Visibility/3dVisTest.gdshader" id="9_fnp7d"]
[ext_resource type="PackedScene" uid="uid://behnx5padapy7" path="res://Modules/Lighting & Visibility/2dVisTest.tscn" id="9_gnq0a"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_fnp7d"]

[sub_resource type="PlaneMesh" id="PlaneMesh_1j5lg"]
size = Vector2(100, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_e75jg"]
albedo_texture = ExtResource("1_j8kak")
metallic = 1.0
metallic_texture = ExtResource("3_cnn6p")
roughness_texture = ExtResource("5_gnq0a")
normal_enabled = true
normal_texture = ExtResource("4_8ap2h")
ao_enabled = true
ao_texture = ExtResource("2_rkh12")
uv1_scale = Vector3(12.5, 12.5, 12.5)
grow_amount = -4.125

[sub_resource type="ViewportTexture" id="ViewportTexture_fnp7d"]
viewport_path = NodePath("SubViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1j5lg"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("9_fnp7d")
shader_parameter/albedo_texture = SubResource("ViewportTexture_fnp7d")

[node name="Node3D" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 7, 0)
light_cull_mask = 4294966274
sky_mode = 1

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0)
sky_mode = 1

[node name="Floor" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
visible = false
shape = SubResource("WorldBoundaryShape3D_fnp7d")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.001, 0)
mesh = SubResource("PlaneMesh_1j5lg")
surface_material_override/0 = SubResource("StandardMaterial3D_e75jg")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("6_8ap2h")
cell_size = Vector3(0.25, 2, 0.25)
cell_center_y = false
data = {
"cells": PackedInt32Array(65533, 65529, 0, 65532, 65529, 0, 65531, 65529, 0, 65530, 65529, 0, 65529, 65529, 0, 65528, 65529, 0, 65527, 65529, 0, 65526, 65529, 0, 65526, 65530, 0, 65526, 65531, 0, 65526, 65532, 0, 65526, 65533, 0, 65526, 65534, 0, 65526, 65535, 0, 65526, 1, 0, 65526, 2, 0, 65526, 0, 0, 65526, 3, 0, 65526, 4, 0, 65526, 5, 0, 65526, 6, 0, 65527, 6, 0, 65528, 6, 0, 65529, 6, 0, 65530, 6, 0, 65531, 6, 0, 65532, 6, 0, 65533, 6, 0, 65534, 6, 0, 65535, 6, 0, 0, 6, 0, 1, 6, 0, 2, 6, 0, 3, 6, 0, 4, 6, 0, 5, 6, 0, 6, 6, 0, 7, 6, 0, 7, 5, 0, 7, 4, 0, 7, 3, 0, 7, 2, 0, 7, 1, 0, 7, 0, 0, 7, 65533, 0, 7, 65534, 0, 7, 65535, 0, 7, 65532, 0, 7, 65531, 0, 7, 65530, 0, 7, 65529, 0, 6, 65529, 0, 5, 65529, 0, 4, 65529, 0, 3, 65529, 0, 2, 65529, 0, 65519, 65521, 0, 65520, 65521, 0, 65521, 65521, 0, 65522, 65521, 0, 65523, 65521, 0, 65524, 65521, 0, 65525, 65521, 0, 65526, 65521, 0, 65527, 65521, 0, 65528, 65521, 0, 65529, 65521, 0, 65530, 65521, 0, 65531, 65521, 0, 65532, 65521, 0, 65533, 65521, 0, 65534, 65521, 0, 65535, 65521, 0, 0, 65521, 0, 1, 65521, 0, 2, 65521, 0, 3, 65521, 0, 4, 65521, 0, 5, 65521, 0, 6, 65521, 0, 7, 65521, 0, 8, 65521, 0, 9, 65521, 0, 10, 65521, 0, 11, 65521, 0, 12, 65521, 0, 13, 65521, 0, 14, 65521, 0, 15, 65521, 0, 16, 65521, 0, 16, 65522, 0, 16, 65523, 0, 16, 65524, 0, 16, 65525, 0, 16, 65526, 0, 16, 65527, 0, 16, 65528, 0, 16, 65529, 0, 16, 65530, 0, 16, 65531, 0, 16, 65532, 0, 16, 65533, 0, 16, 0, 0, 16, 65534, 0, 16, 65535, 0, 16, 1, 0, 16, 2, 0, 16, 3, 0, 16, 4, 0, 16, 5, 0, 16, 6, 0, 16, 7, 0, 16, 8, 0, 16, 9, 0, 16, 10, 0, 16, 11, 0, 16, 12, 0, 16, 13, 0, 16, 14, 0, 16, 15, 0, 16, 16, 0, 15, 16, 0, 13, 16, 0, 12, 16, 0, 11, 16, 0, 10, 16, 0, 9, 16, 0, 8, 16, 0, 7, 16, 0, 6, 16, 0, 5, 16, 0, 4, 16, 0, 3, 16, 0, 2, 16, 0, 1, 16, 0, 0, 16, 0, 65535, 16, 0, 14, 16, 0, 65534, 16, 0, 65533, 16, 0, 65532, 16, 0, 65531, 16, 0, 65530, 16, 0, 65529, 16, 0, 65528, 16, 0, 65527, 16, 0, 65526, 16, 0, 65525, 16, 0, 65524, 16, 0, 65523, 16, 0, 65522, 16, 0, 65521, 16, 0, 65520, 16, 0, 65519, 16, 0, 65519, 65522, 0, 65519, 65523, 0, 65519, 65524, 0, 65519, 65526, 0, 65519, 65525, 0, 65519, 65527, 0, 65519, 65528, 0, 65519, 65529, 0, 65519, 65530, 0, 65519, 65531, 0, 65519, 65532, 0, 65519, 65533, 0, 65519, 65534, 0, 65519, 65535, 0, 65519, 0, 0, 65519, 1, 0, 65519, 2, 0, 65519, 3, 0, 65519, 4, 0, 65519, 5, 0, 65519, 6, 0, 65519, 7, 0, 65519, 8, 0, 65519, 9, 0, 65519, 10, 0, 65519, 11, 0, 65519, 12, 0, 65519, 13, 0, 65519, 14, 0, 65519, 15, 0)
}

[node name="CharacterBody3D" parent="." instance=ExtResource("7_gnq0a")]

[node name="Camera_pivot" parent="." instance=ExtResource("8_fnp7d")]
visible = false

[node name="ViewportSprite" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 2.001, 0)
layers = 2
material_override = SubResource("ShaderMaterial_1j5lg")
double_sided = false
texture_filter = 0
texture = SubResource("ViewportTexture_fnp7d")

[node name="SubViewport" type="SubViewport" parent="."]
transparent_bg = true
handle_input_locally = false
size = Vector2i(2048, 2048)

[node name="Node2D" parent="SubViewport" node_paths=PackedStringArray("player") instance=ExtResource("9_gnq0a")]
player = NodePath("../../CharacterBody3D")
